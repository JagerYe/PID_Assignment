<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>Nectaria - Free HTML Template by WowThemes.net</title>
	<meta name="description" content="Thoughts, reviews and ideas since 1999." />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="icon" href="/PID_Assignment/views/img/logo.png">
	<link rel="stylesheet" type="text/css" href="/PID_Assignment/views/css/screen.css" />
	<link rel="stylesheet" type="text/css"
		href="https://fonts.googleapis.com/css?family=Roboto:400,300italic,300,400italic,700,700italic|Playfair+Display:400,700,400italic,700italic" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="/PID_Assignment/views/css/list.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
		integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
		integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
		crossorigin="anonymous"></script>
</head>

<body class="author-template">
	<div class="site-wrapper">
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<a class="navbar-brand" href="/PID_Assignment/views/pageFront/index_.html">
				<img src="/PID_Assignment/views/img/logo.png" alt="Fashion Critiques" />
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
				aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<a class="nav-link" href="/PID_Assignment/views/pageFront/index_.html">首頁<span
								class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="/PID_Assignment/views/pageFront/index_.html">商品列表</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="/PID_Assignment/views/pageFront/order.html">訂單</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="/PID_Assignment/views/pageFront/shoppingCart.html">購物車</a>
					</li>

				</ul>
				<span class="socialheader">
					<a href="">userName</a>
					<a href="">帳號設定</a>
					<a href="/PID_Assignment/views/pageFront/login.html">登入</a>
				</span>
			</div>
		</nav>
		<br><br><br><br><br><br>
		<section class="author-profile inner">
			<form id="item">

			</form>
		</section>

		<footer class="site-footer clearfix">
			<a href="#top" id="back-to-top" class="back-top"></a>
			<div class="text-center">
				<a href="index.html">Nectaria Template</a> &copy; 2016<br />
				Free HTML Template by <a href="https://wowthemes.net">WowThemes.net</a>
			</div>
		</footer>
	</div>
</body>
<script type="module">
	import { Commodity } from "../js/commodity.js"
	var commoditys = [
		new Commodity("11", "abc1", 100, 50, "open", "commodityText", null),
		new Commodity("12", "abc2", 22, 30, "open", "commodityText", null),
		new Commodity("13", "abc3", 70, 70, "close", "commodityText", null),
		new Commodity("14", "abc4", 50, 80, "open", "commodityText", null),
		new Commodity("15", "abc5", 55, 50, "open", "commodityText", null),
		new Commodity("16", "abc6", 42, 30, "close", "commodityText", null)
	];

	//抓取?後的指定資料
	var getUrlParameter = function getUrlParameter(sParam) {
		var sPageURL = window.location.search.substring(1),
			sURLVariables = sPageURL.split('&'),
			sParameterName,
			i;

		for (i = 0; i < sURLVariables.length; i++) {
			sParameterName = sURLVariables[i].split('=');

			if (sParameterName[0] === sParam) {
				return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
			}
		}
	};

	let commodityID = getUrlParameter("commodityID");


	//假抓資料
	//find雖然只會抓一筆，但只要是抓PK就沒差
	let commodity = commoditys.find(item => item.commodityID == commodityID);
	//-------------------------------------------------

	$(window).ready(() => {
		//show資料
		$("#item").html(`
			<img src="/PID_Assignment/views/img/gravatar.jpg">
			<h1 class="author-title">${commodity.commodityName}</h1>
			<h5>${commodity.commodityText}</h5>
			<h2 class="author-bio">${commodity.commodityPrice}</h2>
			<h3>
				數量<input id="commodityQuantity" name="commodityQuantity" 
					type="number" min="0" max="${commodity.commodityQuantity}" value="1">
			</h3>
			<button id="addInCart" name="addInCart" type="button" class="btn btn-primary">加入購物車</button>
		`);

		$("#addInCart").click(() => {
			// 加入購物車動作
			alert($("#commodityQuantity").val());
		});
	});
</script>

</html>